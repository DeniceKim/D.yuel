@use "./../common/variable" as vars;
@use "./../common/mixin" as mixin;
@use "sass:map";
@use "sass:color";
@use "sass:list";

// 공통 접두사 스타일 정의
$flex: flex;
$group-prefix: "group";

/* S : Contents */
section{
  --section-gap: 1.5rem;
  position: relative;
  padding: var(--section-gap) 0;
  padding-right: 1rem;
  padding-left: 1rem;
  background-color: var(--white);
  article{
    padding-right:0;
    padding-left:0;
  }
  &:not(:first-of-type){
    padding-top:calc(var(--section-gap) + 10px);
    &::before{
      content:"";
      display:block;
      position:absolute;
      top:0;
      left:0;
      width:100%;
      height:10px;
      background: var(--bg-gray) linear-gradient(180deg, #E1E1E14D 0%, #E1E1E100 100%) 0% 0% no-repeat;
      box-shadow: 0 -1px 0 var(--lightgray);
    }
  }
  &.page_title_area{ padding: 1rem; }
  &.no_gap{ padding-left: 0; padding-right: 0; }
  &.search_area{ padding-top: 0; }
  &.bg_none{ background-color: transparent; }
  
}
article{
  position: relative;
  padding-right: 1rem;
  padding-left: 1rem;
  ~article{margin-top:1.25rem;}
  &.sample_box{
    box-shadow: 0 3px 6px rgba(0,0,0,0.1);
  }
}

// 그룹
.#{$group-prefix} {
  display: $flex;
  width: 100%;
  &_head{
    position:relative;
  }
  // 버튼 그룹
  &_button {
    display: $flex;
    width: 100%;
  }
  // 라디오 그룸
  &_radio{
    display: $flex;
    width: 100%;
    .c-radiotype.half{
      flex:1 1 auto;
      .c-label{
        flex:1 auto;
        justify-content: center;
      }
    }
  }
  // 필드
  &_field{
    display: $flex;
    width: 100%;
    gap: 4px;
    .c-label + .c-inp-el{
      margin-left:0;
    }
  }
  // 리서치 그룹
  &_research{
    display: $flex;
    flex-wrap: wrap;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 1.5rem;
    &:has(.c-radiotype){
      .c-radiotype{
        + .group_input{ padding-left: 1rem; }
        + .c-inptype{ padding-left: 1rem;}
        + .disease_list{ padding-left: 1rem; }
      }
    }
  }
  // 인풋 그룹
  &_input{
    display: flex;
    justify-content: space-between;
    gap: 1rem;
    margin-bottom: 1.5rem;
    .c-inptype{
      flex-wrap: wrap;
      label{ width: 100%; }
    }
  }
}
// 간격
.c-table,.c-list,.c-card{
  ~.c-table,
  ~.c-list,
  ~.c-card{
    margin-top: var(--num-12);
  }
}
.chead{
  flex: 0 0 auto;
  position:relative;
  width:100%;
  padding:2rem 1rem 2.5rem;
  .title,.desc{
    width:100%;text-align: center;
  }
}
.cbody{
  display:flex;
  flex-direction: column;
  flex: 1 1 auto;
  width:100%;
  padding-bottom:0;
  background-color: var(--white);
}
.cfoot{
  display: flex;
  flex: 0 0 auto;
  .c-btn{
    flex: 1 1 auto;
  }
  &.is-fixed{
    bottom:0;
    left:0;
    width:100%;
  }
  &.column{
    .c-btn{
      width:100%;
    }
  }
  &:has(.desc){
    flex-wrap: wrap;
    padding: 1rem;
    background-color: var(--white);
    .desc{
      padding-bottom: .75rem;
      color: var(--gray);
      font-size: var(--num-13);
    }
  }
  &:has(.c-btn.round){
    padding: 1rem;
    background-color: var(--white);
  }
}
/* E : Contents */

/* S : Header */
.c-header{
  display: flex;
  align-items: center;
  position: fixed;
  top:0;
  left:0;
  z-index: 100;
  width: 100%;
  height: vars.$header-height;
  background-color: var(--white);
  
  .c-btn.c-icon{
    flex:0 0 auto;
    width: var(--c-header-back-size);
    height: var(--c-header-back-size);
    .icon{
      width: 100%;
      height: 100%;
      mask-size: var(--c-header-icon-size);
      background-size: var(--c-header-icon-size);
      &.back{
        mask-position: var(--c-header-icon-position);
        background-position: var(--c-header-icon-position);
      }
    }
    .dot{
      position:absolute;
      top:2px;
      right:6px;
      background-color: var(--red);
    }
  }
  .c-header-util{
    overflow: hidden;
    display:flex;
    flex:0 0 auto;
    align-items: center;
    gap: 5px;
  }
  .c-header-inner{
    display: flex;
    align-items: center;
    position: relative;
    width: 100%;
    height: 100%;
    padding-right: 1rem;
    padding-left: 1rem;
  }
  &.is-shadow{
    box-shadow: var(--c-header-shadow);
  }
  &:has(.c-header-util){
    .h_title.center{
      padding-right:0;
    }
  }
  &:has(+ main .is-sticky){
    box-shadow: unset;
  }
}
/* E : Header */

/* S : Sidebar */
.c-sidebar{
  --c-sidebar-bezier: cubic-bezier(.4, 0, .2, 1);

  display:block;
  position:fixed;
  top: 0;
  right: -100%;
  z-index:-1;
  opacity: 0;
  width:100%;
  height:100%;
  background-color:var(--white);
  transition: right 0.3s var(--c-sidebar-bezier), opacity 0.3s var(--c-sidebar-bezier), z-index 0.3s step-end;

  article{
    padding-right: 0;
    padding-left: 0;
  }
  
  &-inner{
    display: flex;
    flex-direction: column;
    position: relative;
    width:100%;
    height:100%;
    background-color: var(--white);
  }
  // 상태
  &.is-show{
    right:0;
    z-index:101;
    opacity: 1;
    transition: right 0.3s var(--c-sidebar-bezier), opacity 0.3s var(--c-sidebar-bezier);
  }
  // 위치
  &.left{
    right:auto;
    left:-100%;
    transition: left 0.3s var(--c-sidebar-bezier), opacity 0.3s var(--c-sidebar-bezier), z-index 0.3s step-end;
    &.is-show{
      right:auto;
      left:0;
      opacity: 1;
      transition: left 0.3s var(--c-sidebar-bezier), opacity 0.3s var(--c-sidebar-bezier);
    }
  }

  &-title{
    display: block;
  }
  &-close{
    position: absolute;
    top: 1rem;
    right: 1rem;
  }

  // 상단
  &-head{
    display: flex;
    align-items: center;
    flex: 0 0 auto;
    position: relative;
    height: 56px;
    padding: 1rem;
    border-bottom:1px solid var(--lightgray);
  }
  // 본문
  &-body{
    flex: 1 1 auto;
    overflow-x: hidden;
    overflow-y: auto;
    position: relative;
    padding: 1rem;
  }
  // 하단
  &-foot{
    flex: 0 0 auto;
    position: relative;
    height: 56px;
    padding: 1rem;
    border-top:1px solid var(--lightgray);
  }
}
@keyframes sidebarOpen {
  0% {
    right: -100%;
    z-index: 100;
    opacity: 0;
  }
  100% {
    right: 0;
    z-index: 100;
    opacity: 1;
  }
}

@keyframes sidebarClose {
  0% {
    right: 0;
    z-index: 100;
    opacity: 1;
  }
  100% {
    right: -100%;
    z-index: -1;
    opacity: 0;
  }
}
/* E : Sidebar */

/* S : Layout */
.l{
  &-page{
    display:flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: flex-start;
    width:100%;
    min-height:100dvh;
    margin:auto;
    padding:vars.$header-height 0 2rem;
    
    >section{
      width:100%;
    }
    
    // 하단 tabbar가 있을 경우
    &:has(.c-tabbar.fixed-bottom){
      padding-bottom: 5.5rem;
    }
    &:has(.cfoot.is-fixed){
      padding-bottom: 4rem;
      &:has(.sample_box){
        padding-bottom: 7rem;
      }
    }
    &:has(.cfoot.column.is-fixed){
      padding-bottom: 6rem;
    }
    // 가이드에 있는 구조
    &:has(.cbody > section > .code_editor > .code_input > .c-tabbar.fixed-bottom){
      padding-bottom: 5.5rem;
    }
  }
  &-wrap{
    display:flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: flex-start;
    min-height:100dvh;
  }
}
/* E : Layout */

/* Not Found (에러페이지) */
.l-page[data-page="notfound"]{
  padding:0;
  .group_button{
    width:100%;
  }
  .nodata{
    display:flex;
    flex:1 auto;
    justify-content: center;
    align-items: center;
    flex-wrap:wrap;
    flex-direction: column;
  }
  .icon{
    width:5rem;
    height:5rem;
    background-repeat:no-repeat;
    background-position:50%;
    background-size:100%;
  }
  .desc{
    font-size: 3.61112vw;
    text-align: center;
  }
  .title{
    font-size: 5.55556vw;
  }
}
@media (min-width: 500px){
  .l-page[data-page="notfound"]{
    .desc{
      font-size: 16px;
    }
    .title{
      font-size: 24px;
    }
  }
}